import{l as o}from"./chunk-fb0ed6eb.js";import"./chunk-3f92e865.js";(c=>{const e=document.createElement("script");e.id="j2team-js",e.src=c.runtime.getURL("js/fb-ws-hook.js"),e.onload=()=>{var t;(t=document.getElementById("j2team-js"))==null||t.remove()},(document.head||document.documentElement||document.body).appendChild(e),window.addEventListener("message",t=>{t.isTrusted&&t.origin.includes(".facebook.com")&&t.data.sender==="facebook_content_script"&&t.data.cmd==="sync_settings"&&c.storage.sync.get({block_seen_chat:!1,block_typing_chat:!1},s=>{o("sync settings with FB content script",s),window.postMessage({cmd:"sync_settings_response",sender:"j2team_security",data:s})})}),c.storage.onChanged.addListener((t,s)=>{if(s==="sync"&&(t.block_seen_chat||t.block_typing_chat)){const n={};t.block_seen_chat&&(n.block_seen_chat=t.block_seen_chat.newValue),t.block_typing_chat&&(n.block_typing_chat=t.block_typing_chat.newValue),o("sync settings with FB content script",n),window.postMessage({cmd:"sync_settings_response",sender:"j2team_security",data:n})}})})(chrome);
